# IBAN Attestation Data Rulebook

## Table of Contents

1. [Introduction](#1-introduction)
   
    1.1. [Scope](#11-scope)  
    1.2. [Background](#12-background)  
    1.3. [Goal of the IBAN Attestation](#13-goal-of-the-iban-attestation)  
    1.4. [Key words](#14-key-words)  
    1.5. [Terminology](#15terminology)  
2. [IBAN attestation Issuance process](#2-iban-attestation-issuance-process)  
3. [IBAN attestation Verification process](#3-iban-attestation-verification-process)  
4. [IBAN attributes](#iban-attestation-attributes)  
5. [Trust infrastructure details](#trust-infrastructure-details)
   
    5.1. [Trust requirements on the EUCC attestation from the perspective of company registration offices as authentic sources for the EUCC](#trust-requirements-on-the-eucc-attestation-from-the-perspective-of-company-registration-offices-as-authentic-sources-for-the-eucc)  
    5.2. [Trust a signature or seal over a EUCC](#trust-a-signature-or-seal-over-a-eucc)  
    5.3. [EUCC Provider Trusted List](#eucc-provider-trusted-list)  
    5.4. [SD-JWT-compliant](#sd-jwt-compliant)  
8. [References](#references)  

## Introduction

*Disclaimer: This document is a draft and needs to be commented on and completed to be published as EWC WP3 T3.2.3 deliverable. The terminology (part 1.5) have been generated by AI and are only a base for Business Registries to discuss with their legal departments which terminology is the most suitable in our context.*

### Scope

This document is the International Bank Account Number (referred to as IBAN) Attestation Rulebook. It contains requirements specific to the IBAN attestation, including its issuance and verification processes. This rulebook addresses the background and attributes of the IBAN attestation, its trust infrastructure, and technical implementation details.

The IBAN attestation is solely destined to be used by legal persons (companies).

[Topic 10/23](https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework/blob/main/docs/annexes/annex-2/annex-2-high-level-requirements.md#a2310-topic-10---issuing-a-pid-or-attestation-to-the-eudi-wallet) in the ARF 1.4 specifies that attestation must be issued in the [SD-JWT VC] format, among others. This rulebook supports the [SD-JWT VC] requirements.

### Background

The need for an IBAN attestation arises from the widespread use of the IBAN system for cross-border banking and payment transactions within the SEPA (Single Euro Payments Area) and beyond. Financial institutions and service providers require a secure and standardised method to verify bank account ownership to reduce fraud, enhance customer trust, and improve process efficiency.

The IBAN attestation will be used by companies in the EWC pilots, and some modifications to this rulebook might be made.

### 1.3 Goal of the IBAN attestation

The IBAN attestation aims to:

- Provide a secure, verifiable credential for proving a legal person's ownership of an IBAN.
- Ensure interoperability and machine-readability for automation in financial systems.
- Offer a single trusted standard to replace varied national verification processes.

### 1.4 Key words

This document uses the capitalized key words 'SHALL', 'SHOULD', and 'MAY' as specified in [RFC 2119], i.e., to indicate requirements, recommendations, and options specified in this document.

In addition, 'must' (non-capitalized) is used to indicate an external constraint, i.e., a requirement that is not mandated by this document, but, for instance, by an external document. The word 'can' indicates a capability, whereas other words, such as 'will', and 'is' or 'are' are intended as statements of fact.

### 1.5 Terminology

This document uses terminology specified in Regulation (EU) 2024/1183.

In addition to the attributes definition necessary to understand the data schema, it’s important to understand:

- **IBAN** (International Bank Account Number): A standardized international numbering system used to uniquely identify a bank account. The format includes a two-letter country code, check digits, and a basic bank account number (BBAN).
- **Holder**: A legal person who owns the bank account associated with the IBAN.
- **ASPSP** (Account Servicing Payment Service Provider): A financial institution that provides and maintains payment accounts accessible via online platforms.
- **PSD2** (Payment Services Directive 2): An EU directive that regulates payment services and providers throughout the European Economic Area, promoting competition and innovation.
- **BIC** (Bank Identifier Code): A unique code assigned to financial institutions used to identify the bank during international transactions. Also known as the SWIFT code.
- **Clearing Number**: A number used to identify a financial institution or a branch within a country’s clearing system.
- **SWIFT** (Society for Worldwide Interbank Financial Telecommunication): A global provider of secure messaging services and financial transactions among banks and financial institutions.
- **Open Banking**: A practice that allows third-party financial service providers to access consumer banking, transaction, and other financial data through APIs, typically implemented under PSD2.


## 2. IBAN Issuance process

Only financial institutions acting as Account Servicing Payment Service Providers (ASPSP) are authorized to issue IBAN attestations. These institutions are considered the authentic source of account ownership information. Issuance may occur directly or through a delegated Qualified Electronic Attestation Authority (QEAA).

The issuance of IBAN attestations must comply with relevant EU regulatory and technical standards, including Payment Services Directive 2 (PSD2): Ensuring secure and standardized access to account information.

_L'attestation ne peut être émise u'a qqn qui a un accès au compt bancaire et pour valider cet accès les banques utilises login mdp + SCA,_

In the EWC context, a generic attestation issuance process has been described by wallet providers in the pilots. Those controls and generic steps are described in [RFC-001](https://github.com/EWC-consortium/eudi-wallet-rfcs/blob/main/ewc-rfc001-issue-verifiable-credential.md).

The IBAN attestation can only be requested by companies having a valid LPID in their wallet. Therefore, this attestation can only be issued to an EUDI-compliant organizational wallet.

## 3. IBAN Verification process

In the EWC context, a generic attestation verification process has been described by wallet providers in the pilots. Those controls and generic steps are described in [RFC-002](https://github.com/EWC-consortium/eudi-wallet-rfcs/blob/main/ewc-rfc002-present-verifiable-credentials.md).

There is no data or attributes specific verification at this stage of the pilot; it is up to the Relying Party needs and requirements in the business or administrative process to decide.

_À ce stade pas de limite sur le wallet pour qui peut présenter l'IBAN mais valider tests possible de devoir limiter l'accès au VP IBAN_

## 4. IBAN attributes

IBAN attributes have been defined together by Archipels and _**WP 2.3**_ in the EWC pilot in accordance with the PSD2.

This table contains the name of the attribute, its description, and whether the attribute is required or not.

| Property Name | Description | Required |
| ------------- | ----------- | -------- |
| bank_account | Attributes representing the bank account. | Yes |
| account_name | Name of the account, generated by the bank or customized by the owner. | Yes |
| IBAN | International Bank Account Number, as defined in ISO 13616:2020. | Yes |
| account_type | Nature of the bank account. | Yes |
| account_currency | Currency code used of the account, as defined in ISO 4217:2015. | Yes |
| account_usage | Specification about the private or professional usage of the acccount. | No |
| account_ownership | Attributes representing the account ownership. | Yes |
| owner_name | Legal name of the legal person owning the account. | Yes |
| parties | List of parties involved in the account ownership. | No |
| full_name | Full name of the physical person. | Yes |
| role | Role of the physical person. | Yes |
| account_provider | Attributes representing the account provider. | Yes |
| provider_name | Name of the financial institution providing the account. | Yes |
| bank_identifier | Bank identification number. | Yes |
| provider_country | Alpha-2 country code, as defined in ISO 3166-1, of the provider country or territory. | Yes |
| BIC | BIC or SWIFT code, as defined in ISO 9362, of the financial institution. | No |
| clearing_number | Clearing number, only used in some countries, of the identification of the financial institution. | No |


Aligné avec les métadonnées des attestations org cred already defined (EUCC sig rights...)
_IBAN metadata have been adapted from the LPID metadata to be aligned with the usage of the IBAN attestation_.

This table contains the name of the metadatum, its description, and whether the metadatum is required or not.

| Metadatum Name | Description | Required |
| ------------- | ----------- | -------- |
| issuing_authority | Attributes representing the bank account. | Yes |
| issuing_authority_id | Name of the account, generated by the bank or customized by the owner. | Yes |
| issuance_date | International Bank Account Number, as defined in ISO 13616:2020. | Yes |
| expiry_date | Nature of the bank account. | Yes |
| authentic_source_id | Currency code used of the account, as defined in ISO 4217:2015. | Yes |
| authentic_source_name | Specification about the private or professional usage of the acccount. | No |
| credentialSubject | Attributes representing the account ownership. | Yes |


The IBAN schema is available in the EWC schemas and rulebooks repository: [IBAN data schema](https://github.com/EWC-consortium/eudi-wallet-rulebooks-and-schemas/blob/main/data-schemas/ds002-iban-attestation.json).

### 4.1 Registered address-related attributes

This document defines the following attributes related to the registered address of the EUCC holder:

- full_address
- care_of
- thorough_fare
- locator_designator
- post_code
- post_name
- post_office_box
- locator_name
- admin_unit_level_1
- admin_unit_level_2

The detailed attributes allow the EUCC attestation to represent the granularity of the elements describing a registered address as defined in the [EU Core Business Vocabulary](https://semiceu.github.io/Core-Business-Vocabulary/releases/2.2.0/#Address).. 

### 4.2 Legal representative-related attributes

This document defines the following attributes related to the legal representation of a company. This list of attributes allows EUCC issuers to use either or both list in order to describe a legal representative who is a natural person or a legal person. 

**Attributes to define a natural person holding a legal representative right:**

- full_name
- date_of_birth
- nationality
- signatory_rule

**Attributes to define a legal person holding a legal representative right:**

- legal_person_name
- legal_person_id
- legal_form_type
- signatory_rule

It is the responsibility of Business Registries to include as many legal_representative objects as present in their registry.

### 4.3 Minimum number of optional attributes

There is no minimum number of optional attributes for the EUCC. __Each Issuer will have the responsibility to fill in the attributes when provided by the original source.__

## 5. Trust infrastructure details

In this chapter, trust requirements and general considerations regarding the EUCC attestation itself are described.

### 5.1 Trust requirements on the EUCC attestation from the perspective of company registration offices as authentic sources for the EUCC

In the ARF 1.4, the following information for Pub-EAAs and QEAAs Providers is given.

Pub-EAAs and QEAAs Providers are trusted entities responsible to:

- Verify the identity of the EUDI Wallet User in compliance with LoA high requirements.
- Issue attestations to the EUDI Wallet in a harmonized common format.
- Make available information for Relying Parties to verify the validity of the attestation.

The EUCC SHALL contain the qualified electronic signature or qualified electronic seal of the issuing body and adhere to the legal requirements defined in Annex VII of the Regulation (EU) 2024/1183.

The EUCC SHALL follow the SD-JWT format.

It SHALL not be possible to log into company registers solely with the EUCC, since procedures legally require an individual person to act.

EUCC Issuers SHALL follow the EUCC requirements and trust mechanisms defined by Authentic Sources on a national level.
Authentic Sources that are company registration offices need to accept each other's PUB-EAA attestations according to the regulation. Therefore, common legal trust mechanisms need to be established ifor the trust ecosystem to be trustworthy: 

- The EUCC unique identifier SHALL be unique and agreed upon on EU and EES level.
- There SHALL be one common schema for the EUCC which is accepted by all company registries offices.
- Only mandatory metadata and attributes SHALL be present in the EUCC attestations.
- The EUCC SHALL be in a machine-readable format defined in the ARF during its whole lifecycle.
- The EUCC SHALL be in a format that can scale to additional/new legal forms.
- The EUCC SHALL apply for all legal persons.
- The issuer of the EUCC SHALL be responsible for its revocation. 

### 5.2 Trust a signature or seal over a EUCC

To trust a signature or seal over an EUCC, the Relying Party needs a mechanism to validate that the public key it uses to verify that signature or seal is trusted. OpenID4VP provides such mechanisms. However, additional details need to be analyzed to fully specify these mechanisms for EUCCs within the EUDI Wallet ecosystem and the trust anchor for it. It is assumed that this will be part of a detailed specification from a standardization authority.

### 5.3 EUCC Provider Trusted List

For authenticating EUCCs, trust anchors will be used that are present in an EUCC issuer Provider Trusted List.

### 5.4 SD-JWT-compliant

EUCC is fully compliant with [OpenID4VP] and [SD-JWT VC].

## 6. References

- RFC-001: [Issue Verifiable Credential](https://github.com/EWC-consortium/eudi-wallet-rfcs/blob/main/ewc-rfc001-issue-verifiable-credential.md)
- RFC-002: [Present Verifiable Credentials](https://github.com/EWC-consortium/eudi-wallet-rfcs/blob/main/ewc-rfc002-present-verifiable-credentials.md)
- SD-JWT VC: [SD-JWT VC Specification](https://datatracker.ietf.org/doc/draft-ietf-oauth-sd-jwt-vc/)
- OpenID4VP: [OpenID4VP Specification](https://openid.net/specs/openid-4-verifiable-presentations-1_0.html)
